(()=>{const e=100;let t=[];!function(){const t=document.getElementById("canvas");for(let l=0;l<e;l++)for(let n=0;n<e;n++){const e=document.createElement("button");e.className="cell",e.style.height="14px",e.style.width="14px",e.title=`${l}x${n}`,e.id=`${l}x${n}`,t.appendChild(e),e.addEventListener("click",(()=>{"cell"==e.className?e.className="cell selected":e.className="cell"}))}}(),document.getElementById("size").addEventListener("change",(t=>{(t=>{for(let l=0;l<e;l++)for(let n=0;n<e;n++){const e=document.getElementById(`${l}x${n}`);e.style.height=`${t}px`,e.style.width=`${t}px`}})(t.target.value)})),document.getElementById("next").addEventListener("click",c);const l=(e,t)=>{let l=[[e-1,t],[e,t-1],[e+1,t],[e,t+1],[e-1,t-1],[e+1,t-1],[e-1,t+1],[e+1,t+1]],c=0;for(let e=0;e<l.length;e++)c+=n(l[e]);const d=n([e,t]);return 1==d?c>=2&&c<=3:0==d&&3==c},n=t=>{let l=t[0],n=t[1];return l<0||l>e-1||n<0||n>e-1||"cell"==document.getElementById(`${l}x${n}`).className?0:1};function c(){d(function(){let t=[];for(let n=0;n<e;n++){t[n]=[];for(let c=0;c<e;c++)l(n,c)?t[n][c]=1:t[n][c]=0}return t}());let t=document.getElementById("generation"),n=t.innerText;t.innerText=Number(n)+1}function d(t){for(let l=0;l<e;l++)for(let n=0;n<e;n++){const e=document.getElementById(`${l}x${n}`);1==t[l][n]?e.className="cell selected":e.className="cell"}}const o=document.getElementById("simulate");let r=null;o.addEventListener("click",(()=>{const l=document.getElementById("speed"),n=Number(l.value);t=function(){let t=[];for(let l=0;l<e;l++){t[l]=[];for(let n=0;n<e;n++)"cell"==document.getElementById(`${l}x${n}`).className?t[l][n]=0:t[l][n]=1}return t}(),r=setInterval((()=>{c()}),500/n),o.setAttribute("disabled","true"),o.style.backgroundColor="gray"})),document.getElementById("reset").addEventListener("click",(()=>{clearInterval(r),document.getElementById("generation").innerText=0,d(t);const e=document.getElementById("simulate");e.removeAttribute("disabled"),e.style.backgroundColor="rgb(44, 129, 44)"})),document.getElementById("clear").addEventListener("click",(()=>{!function(){clearInterval(r),document.getElementById("generation").innerText=0;for(let t=0;t<e;t++)for(let l=0;l<e;l++)document.getElementById(`${t}x${l}`).className="cell";const t=document.getElementById("simulate");t.removeAttribute("disabled"),t.style.backgroundColor="rgb(44, 129, 44)"}()})),document.getElementById("stop").addEventListener("click",(()=>{clearInterval(r);const e=document.getElementById("simulate");e.removeAttribute("disabled"),e.style.backgroundColor="rgb(44, 129, 44)"}));let s=[{id:1,name:"blinker",liveCells:[[10,10],[10,11],[10,12]]},{id:2,name:"glider",liveCells:[[10,11],[11,12],[11,13],[10,13],[9,13]]},{id:3,name:"beacon",liveCells:[[15,15],[15,16],[16,15],[16,16],[17,17],[17,18],[18,17],[18,18]]},{id:4,name:"toad",liveCells:[[15,15],[16,15],[17,16],[16,18],[15,18],[14,17]]},{id:5,name:"light spaceship",liveCells:[[20,15],[18,15],[17,16],[17,17],[17,18],[17,19],[18,19],[19,19],[20,18]]},{id:6,name:"penta-decathlon",liveCells:[[18,17],[17,17],[15,18],[14,19],[13,20],[13,21],[13,22],[14,23],[15,24],[17,25],[18,25],[20,24],[21,23],[22,22],[22,21],[22,20],[21,19],[20,18]]}];!function(){const t=document.querySelector(".presets");for(let l=0;l<s.length;l++){const n=document.createElement("li");n.className="preset",n.innerHTML=s[l].name,t.appendChild(n),n.addEventListener("click",(()=>{let t=[];for(let l=0;l<e;l++){t[l]=[];for(let n=0;n<e;n++)t[l][n]=0}let n=s[l].liveCells;for(let e=0;e<n.length;e++)t[n[e][0]][n[e][1]]=1;d(t)}))}}()})();